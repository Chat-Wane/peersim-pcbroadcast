# network size
SIZE 1000
DEGREE 20

# parameters of periodic execution
CYCLES 500
CYCLE SIZE*10000

# parameters of message transfer
# delay values here are relative to cycle length, in percentage,
# eg 50 means half the cycle length, 200 twice the cycle length, etc.
MINDELAY 0
MAXDELAY 0
# drop is a probability, 0<=DROP<=1
DROP 0

random.seed 1234567890
network.size SIZE
simulation.endtime CYCLES
simulation.logtime CYCLE
network.node GeneralNode

################### protocols ===========================
protocol.link peersim.core.IdleProtocol

protocol.lnk example.cyclon.CyclonHandshake
protocol.lnk.cache DEGREE
protocol.lnk.l 5
protocol.lnk.step 1
protocol.lnk.transport tr
protocol.lnk.linkable link

protocol.urt UniformRandomTransport
protocol.urt.mindelay (CYCLE*MINDELAY)/100
protocol.urt.maxdelay (CYCLE*MAXDELAY)/100

protocol.tr UnreliableTransport
protocol.tr.transport urt
protocol.tr.drop DROP

################### initialization ======================

# Init each peer in lnk with K neighbours

init.rndlink WireKOut
init.rndlink.k 1
init.rndlink.protocol lnk

init.sch CDScheduler
init.sch.protocol lnk
init.sch.randstart

##### Controls #####
# Adds one node each cycle in the simulation up to 1000 nodes in total.

#control.dynadd DynamicNetwork
#control.dynadd.add 1000
#control.dynadd.maxsize 1000
#control.dynadd.init.rand RandNI
#control.dynadd.init.rand.protocol lnk
#control.dynadd.init.rand.k 1
#control.dynadd.step CYCLE * 20
#control.dynadd.init.loci example.cyclon.CyclonInitializer

control.0 example.PeerSamplingServiceObserver
control.0.protocol lnk
control.0.step 1